# Milestone v1.0: Initial MVP

**Status:** ✅ SHIPPED 2026-02-24
**Phases:** 1–9
**Total Plans:** 26

## Overview

Dynasty OS v1.0 is the initial MVP — a complete offline-first desktop companion platform for sports dynasty gaming. Built in 9 phases across 3 days, it delivers persistent stat tracking, Claude AI narrative generation, and shareable legacy artifacts for EA Sports CFB 26 (console, screenshot ingestion) and Madden NFL 26 (PC, direct save file sync).

## Phases

### Phase 1: Foundation

**Goal**: The project structure and shared infrastructure exist so every subsequent phase builds on a consistent base — sport config, database schema, Tauri shell, and multi-dynasty management are all in place.
**Depends on**: Nothing (first phase)
**Plans**: 4 plans

Plans:
- [x] 01-01-PLAN.md — Monorepo setup: Turborepo + pnpm workspaces, shared packages scaffold (core-types, db, sport-configs, ui-components), React + Vite + Tailwind desktop app
- [x] 01-02-PLAN.md — Tauri 2.x shell: Rust backend initialization, WebView wiring to Vite frontend, performance baselines (<80MB RAM, <3s cold start)
- [x] 01-03-PLAN.md — DB schema and sport config: Dexie ORM schema for all entities, sport config pattern with CFB and Madden configs, core TypeScript types
- [x] 01-04-PLAN.md — Dynasty management UI: create/switch/delete dynasties, Zustand store, JSON export/import, offline-first data persistence

### Phase 2: Core Loop

**Goal**: The app is usable — a coach can log game results and see their season taking shape on a dashboard that surfaces record, rankings, and recent activity.
**Depends on**: Phase 1
**Plans**: 5 plans

Plans:
- [x] 02-01-PLAN.md — Season & game data layer: service functions with auto-calculated records, Zustand stores
- [x] 02-02-PLAN.md — Dashboard layout and widgets: season-at-a-glance, recent activity, weekly snapshot
- [x] 02-03-PLAN.md — Game entry and season-end modals: LogGameModal with smart team dropdown, SeasonEndModal
- [x] 02-04-PLAN.md — Stat highlights, game log table, and inline editing: calculated stats, full game table, click-to-edit cells
- [x] 02-05-PLAN.md — Gap closure: per-game teamRanking field, DB migration, ranking movement delta in WeeklySnapshot

### Phase 3: Player Tracking and Records

**Goal**: Coaches can build and track their roster across seasons — every player has a career arc that culminates in a Legacy Card, and program-wide leaderboards show who the all-time greats are.
**Depends on**: Phase 2
**Plans**: 4 plans

Plans:
- [x] 03-01-PLAN.md — Roster foundation: player CRUD service/store, navigation system, Roster page with add/edit/delete/filter
- [x] 03-02-PLAN.md — Season stats and career totals: PlayerSeason service/store, career aggregation engine, Player Profile page with departure recording
- [x] 03-03-PLAN.md — Legacy Cards: AI blurb via Claude Haiku, PNG export via Tauri dialog+fs, Program Legends gallery with filters
- [x] 03-04-PLAN.md — Records and leaderboards: single-season top N, career top N, head-to-head opponent records with era filter

### Phase 4: Narrative Engine

**Goal**: At the end of each season, coaches can generate an AI-written recap that captures what the season meant — not just what happened — with their choice of tone and a memorable tagline.
**Depends on**: Phase 3 (season + player data feeds the narrative)
**Plans**: 2 plans

Plans:
- [x] 04-01-PLAN.md — Narrative service layer: Claude Sonnet API integration, three tone system prompts, season data aggregation, tagline parsing, localStorage caching, Zustand store
- [x] 04-02-PLAN.md — Season Recap page UI: tone selector, generate/refresh flow, cached recap display, tagline display, dashboard entry point

### Phase 5: CFB Features

**Goal**: CFB-specific program management is complete — recruiting classes are graded and analyzed, the transfer portal has a war room, NFL Draft production is tracked historically, and program prestige trends are visible year over year.
**Depends on**: Phase 3, Phase 4
**Plans**: 4 plans

Plans:
- [x] 05-01-PLAN.md — DB schema migration (5 new tables) + Recruiting module: class entry, individual recruit log, signing day AI grade via Claude Haiku, class history browser, navigation and dashboard wiring
- [x] 05-02-PLAN.md — Transfer portal war room: arrival/departure service and store, War Room page with side-by-side tables and net impact rating
- [x] 05-03-PLAN.md — NFL Draft tracker: draft pick service and store, historical view by year, position breakdown, player record linking
- [x] 05-04-PLAN.md — Program prestige tracker: prestige rating service and store, trend calculation, SVG line chart with recruiting rank overlay

### Phase 6: Social and Legacy

**Goal**: The program's story is visible — rivals have records and streaks, the entire dynasty history scrolls as a timeline, and scouting cards exist for upcoming opponents.
**Depends on**: Phase 2, Phase 5
**Plans**: 3 plans

Plans:
- [x] 06-01-PLAN.md — Rivalry tracker: DB v4 migration (rivals + scoutingNotes tables), Rival type, CRUD service with intensity calculation, Zustand store, RivalryTrackerPage with H2H record and streak pips
- [x] 06-02-PLAN.md — Program timeline: timeline-service aggregating season nodes with localStorage taglines, ProgramTimelinePage with scrollable nodes and window.print() PDF export
- [x] 06-03-PLAN.md — Opponent scouting cards: ScoutingNote type, upsert service, Zustand store, ScoutingCardPage with opponent search, H2H record, and tendency notes

### Phase 7: Achievements

**Goal**: The coach's legacy is quantified — milestones auto-unlock as data is saved, a trophy room displays earned achievements, and a coaching resume summarizes career statistics.
**Depends on**: Phase 6
**Plans**: 2 plans

Plans:
- [x] 07-01-PLAN.md — Achievement engine: Achievement type, DB v5 migration (achievements table), milestone definitions (14 milestones across wins/bowl-wins/championships), evaluateAchievements() service, Zustand store
- [x] 07-02-PLAN.md — Save hooks + UI: evaluateAchievements wired into game-service and season-service, TrophyRoomPage with earned/locked milestone cards, CoachingResumePage with career stats aggregation, Dashboard wiring

### Phase 8: Screenshot Ingestion

**Goal**: CFB coaches can photograph in-game screens and have Dynasty OS pre-populate forms automatically — reducing manual entry burden by 70-80%.
**Depends on**: Phase 2, Phase 4
**Plans**: 2 plans

Plans:
- [x] 08-01-PLAN.md — Vision API service layer: Tauri dialog:allow-open capability, screenshot-service.ts with Claude Haiku Vision API integration, four screen type prompts (schedule, player-stats, recruiting, depth-chart), ParsedScreenData typed union
- [x] 08-02-PLAN.md — ScreenshotIngestionPage UI: screen type picker, OS file dialog, image preview, spinner, amber-highlighted pre-populated confirmation form, save/discard, Dashboard "Parse Screenshot" button, navigation + App.tsx wiring

### Phase 9: Madden Sync

**Goal**: Madden coaches can sync their franchise save file directly — game results, player stats, rosters, and draft data flow in automatically with a clear confirmation step and a graceful fallback if the library does not yet support Madden 26.
**Depends on**: Phase 3, Phase 2
**Plans**: 3 plans

Plans:
- [x] 09-01-PLAN.md — Tauri sidecar infrastructure (Node.js shell wrapper + madden-franchise), save file picker, validate subcommand, version-check guard with fallback UI
- [x] 09-02-PLAN.md — Sync engine: extract subcommand, computeSyncDiff (games/players/draft), confirmation diff table, 10-second auto-confirm timer
- [x] 09-03-PLAN.md — Background file watcher (tauri-plugin-fs watch()), save modification banner, navigation wiring (Dashboard → MaddenSyncPage)

---

## Milestone Summary

**Key Decisions:**

- Tauri over Electron: <80MB idle RAM incompatible with Electron's footprint
- Local-first, no cloud V1: eliminates auth complexity; JSON export covers portability
- Sport Config pattern: isolates sport differences; shared components stay sport-agnostic
- Claude Haiku for short AI content (blurbs, class grades), Sonnet for long-form (season recaps)
- Tauri PNG export: html-to-image → base64 → Uint8Array → save dialog (blob URLs blocked in WKWebView)
- Async fire-and-forget for AI calls: blurbs/achievements never block game logging
- madden-franchise library risk: version-check guard + fallback UI shipped in Phase 9

**Issues Resolved:**

- WKWebView blob URL download restriction — resolved via Tauri dialog+fs pattern
- Dexie multi-version migration — version(1).stores + version(N).stores registers full upgrade path
- pnpm v10 onlyBuiltDependencies — esbuild must be explicitly allowed
- Tauri PNG icons must be RGBA (not RGB) — validated at compile time

**Issues Deferred:**

- Madden 26 schema support in madden-franchise library not yet released (fallback UI is live)
- Sidecar production binary not yet compiled with pkg — dev mode uses shell wrapper
- Windows production memory (<80MB) not yet validated on packaged build

**Technical Debt Incurred:**

- REQUIREMENTS.md checkbox tracking for INGST-06 and SYNC-01–07 not updated to reflect completed status (corrected in PROJECT.md Validated section)
- Sidecar requires `npm install` in src-tauri/sidecar/ on new machines before first use

---

*For current project status, see .planning/ROADMAP.md*
