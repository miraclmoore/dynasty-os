---
phase: 14-onboarding-overhaul
plan: 02
type: execute
wave: 2
depends_on:
  - 14-01
files_modified:
  - apps/desktop/src/components/SetupWizard.tsx
autonomous: false

requirements:
  - ONBD-02
  - ONBD-03

must_haves:
  truths:
    - "SetupWizard description text is legible — no dimmed or low-opacity text on the subtitle or step descriptions"
    - "User can re-trigger the full tour at any time via the ? button on the dashboard"
    - "Tour auto-launches after new dynasty creation and covers all 10 required sections"
  artifacts:
    - path: "apps/desktop/src/components/SetupWizard.tsx"
      provides: "Legible subtitle text replacing text-blue-300/60"
      contains: "text-blue-300 OR text-gray-400 (no /60 opacity modifier)"
  key_links:
    - from: "apps/desktop/src/App.tsx"
      to: "apps/desktop/src/components/TourOverlay.tsx"
      via: "? button sets onboardingOpen=true"
      pattern: "setOnboardingOpen\\(true\\)"
---

<objective>
Fix the SetupWizard description text legibility (ONBD-03) and verify the complete onboarding system built in plan 01 works end-to-end.

Purpose: ONBD-03 is a one-line CSS fix but needs human verification to confirm the text is readable. The human verify checkpoint also confirms ONBD-01 (tour auto-launches and steps through all sections) and ONBD-02 (? button re-triggers the tour).

Output: Legible SetupWizard text + human sign-off that all 3 ONBD requirements are satisfied.
</objective>

<execution_context>
@/Users/chanmoore/.claude/get-shit-done/workflows/execute-plan.md
@/Users/chanmoore/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/14-onboarding-overhaul/14-01-SUMMARY.md
@.planning/STATE.md

<interfaces>
From apps/desktop/src/components/SetupWizard.tsx (the bug — line 172):
```tsx
{/* Current dimmed text — needs fixing */}
<p className="text-xs text-blue-300/60 mt-0.5">
  A few quick steps to set up your dynasty
</p>
```

Fix: Change `text-blue-300/60` to `text-gray-400`. Use `text-gray-400` for visual consistency with the subtitle style used elsewhere in the app.

From apps/desktop/src/App.tsx (ONBD-02 — already implemented):
```tsx
{activeDynasty && (
  <button
    onClick={() => setOnboardingOpen(true)}
    className="fixed top-1 right-2 z-40 w-6 h-6 ..."
    title="Open tour / help"
  >
    ?
  </button>
)}
```
This is already wired. ONBD-02 requires only that this button exists and works.
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix SetupWizard subtitle opacity (ONBD-03)</name>
  <files>apps/desktop/src/components/SetupWizard.tsx</files>
  <action>
In `SetupWizard.tsx`, locate line 172:

```tsx
<p className="text-xs text-blue-300/60 mt-0.5">
```

Change `text-blue-300/60` to `text-gray-400`. This makes the subtitle "A few quick steps to set up your dynasty" fully legible at normal gray text opacity, consistent with other helper text in the app.

Also check the step description text around line 245:
```tsx
<p className="text-xs text-gray-400 mt-0.5">{current.description}</p>
```
If this already uses `text-gray-400` (no opacity modifier), leave it unchanged. Only fix the `/60` opacity class on line 172.
  </action>
  <verify>grep "text-blue-300/60" /Users/chanmoore/dev/dynasty-os/apps/desktop/src/components/SetupWizard.tsx
  # Should return nothing (empty output means the dimming is fixed)</verify>
  <done>No `text-blue-300/60` class in SetupWizard.tsx. Subtitle reads "A few quick steps to set up your dynasty" at full opacity.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify complete Phase 14 onboarding system</name>
  <action>Human verification of all three ONBD requirements.</action>
  <verify>Human approves via resume-signal below.</verify>
  <done>Human confirms all three requirements pass: tour auto-launches, ? button works, SetupWizard text is legible.</done>
  <what-built>
Complete Phase 14 onboarding overhaul:
- ONBD-01: Tour auto-launches on new dynasty creation and spotlights all 10 dashboard sections (sidebar, Log Game, End Season, QuickEntryHub, SeasonAtGlance, RecentActivity, WeeklySnapshot, StatHighlights, Season Checklist, GameLog) with spotlight highlight and popup
- ONBD-02: ? button in top-right re-triggers the full tour at any time when a dynasty is active
- ONBD-03: SetupWizard subtitle text is fully legible (no dimmed opacity)
  </what-built>
  <how-to-verify>
Run the dev server first:
```bash
cd /Users/chanmoore/dev/dynasty-os && pnpm --filter @dynasty-os/desktop dev
```

**Test ONBD-03 (quickest — do this first):**
1. Open an existing dynasty (so the dashboard loads)
2. Confirm the SetupWizard card at the top shows "A few quick steps to set up your dynasty" in legible gray text (not faint/dim)

**Test ONBD-02:**
3. With a dynasty open, confirm the small ? button is visible in the top-right corner (above the ticker bar area)
4. Click it — the tour overlay should open and show step 1 of 12 "Welcome to Dynasty OS"
5. Click through a few steps to confirm the spotlight highlights the correct section on each step
6. Click "Skip tour" to dismiss

**Test ONBD-01:**
7. To test auto-launch, clear the pending flag:
   - Open browser DevTools (right-click > Inspect in Tauri, or use the WebView console)
   - Run: `localStorage.removeItem('dynasty-os-onboarding-pending')`
8. Create a new dynasty via "+ New Dynasty"
9. After the modal closes and you land on the dashboard, the tour should open automatically
10. Confirm it cycles through: Welcome → Sidebar → Log Game → End Season → Quick Entry Hub → Season at a Glance → Recent Activity → Weekly Snapshot → Stat Highlights → Season Checklist → Game Log → You're the Coach Now
11. Each step should spotlight (highlight ring around) the corresponding section

Report any steps where the spotlight finds no element (card appears centered instead of anchored).
  </how-to-verify>
  <resume-signal>Type "approved" if all three requirements pass, or describe any issues with specific step numbers or sections that failed</resume-signal>
</task>

</tasks>

<verification>
```bash
# Confirm no opacity dimming remains
grep "text-blue-300/60" /Users/chanmoore/dev/dynasty-os/apps/desktop/src/components/SetupWizard.tsx
# Expected: empty output

# Confirm tour has 12 steps
grep -c "title:" /Users/chanmoore/dev/dynasty-os/apps/desktop/src/components/TourOverlay.tsx
# Expected: 12

# TypeScript clean
cd /Users/chanmoore/dev/dynasty-os && pnpm --filter @dynasty-os/desktop tsc --noEmit
```
</verification>

<success_criteria>
1. SetupWizard subtitle text renders at full opacity — no /60 Tailwind modifier on any text in the component
2. ? button visible on dashboard and opens tour overlay
3. Tour auto-launches after new dynasty creation
4. Tour covers all 10 ONBD-01 sections with spotlight on each
5. Human verifier approves all three requirements
</success_criteria>

<output>
After completion, create `.planning/phases/14-onboarding-overhaul/14-02-SUMMARY.md`
</output>
